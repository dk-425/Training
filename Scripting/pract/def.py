def main():
    log_file_path = "/home/sam-admin/Downloads/agib027.fit.rpt"


    search_pattern = "Fitter Resource Utilization by Entity "
    end_pattern = "+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------------------+----------------------------------+---------------------------------------------------+----------------------------------+----------------------+---------------------+---------------------------+---------------+-------------------+-------+------------+------+--------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------+----------------------------------------+"   
    res =[]
    x=0
    log_file = open(log_file_path, "r")
    matching = False  # Flag to indicate if matching data was found
    next_lines = [] 
 
    for line in log_file:
        if search_pattern in line:
            matching = True  
            res.append(line.strip())   

        if matching:
            next_lines.append(line.strip())    
            if end_pattern in line:
                x+=1
                if x==3:
                    break  
    log_file.close()
    new_file=open("new.log",'w+')
    if len(next_lines)>0:
        for line in next_lines:
            new_file.write(line.strip()+'/n')
            print(line)
    
    else:
        print("No Matching data")
    new_file.close()
            
    
if __name__ == "__main__":
    main()



